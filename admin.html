
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© HOTEP</title>
    <style>
        :root { --gold: #D4AF37; --black: #000; --dark: #121212; }
        body { background: var(--black); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        h2 { color: var(--gold); text-align: center; border-bottom: 2px solid var(--gold); padding-bottom: 10px; margin-bottom: 30px; }
        
        .stat-bar { display: flex; justify-content: center; margin-bottom: 20px; }
        .stat-item { background: var(--dark); border: 1px solid var(--gold); padding: 10px 20px; border-radius: 10px; font-weight: bold; }
        .stat-item span { color: var(--gold); margin-right: 10px; }

        .table-container { overflow-x: auto; background: var(--dark); border-radius: 15px; border: 1px solid #333; }
        table { width: 100%; border-collapse: collapse; min-width: 900px; }
        th { background: var(--gold); color: #000; padding: 15px; font-size: 14px; text-align: center; }
        td { padding: 12px; border-bottom: 1px solid #333; text-align: center; font-size: 13px; color: #eee; }
        
        /* ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„ÙƒÙ…ÙŠØ§Øª */
        .highlight { color: var(--gold); font-weight: bold; background: rgba(212, 175, 55, 0.05); }
        .date-cell { color: #888; font-size: 11px; }
        
        .btn { padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; font-size: 12px; margin: 2px; }
        .btn-call { background: #28a745; color: white; }
        .btn-wa { background: #25d366; color: white; }
        .btn-del { background: #dc3545; color: white; }
        
        tr:hover { background: rgba(255,255,255,0.02); }
    </style>
</head>
<body>

    <h2>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª Ø¨Ø±Ø§Ù†Ø¯ HOTEP</h2>

    <div class="stat-bar">
        <div class="stat-item">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: <span id="orderCount">0</span></div>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª</th>
                    <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                    <th>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
                    <th>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                    <th>Ø§Ù„Ù…Ù‚Ø§Ø³</th>
                    <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù„Ø¨</th>
                    <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨</th>
                    <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                </tr>
            </thead>
            <tbody id="ordersTable">
                </tbody>
        </table>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
        const firebaseConfig = { databaseURL: "https://hotep-f423e-default-rtdb.europe-west1.firebasedatabase.app/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database().ref('orders');

        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        db.on('value', (snapshot) => {
            const tableBody = document.getElementById('ordersTable');
            tableBody.innerHTML = '';
            let total = 0;

            snapshot.forEach((childSnapshot) => {
                const data = childSnapshot.val();
                const id = childSnapshot.key;
                total++;

                const row = `
                    <tr>
                        <td class="date-cell">${data.Ø§Ù„ØªØ§Ø±ÙŠØ® || 'ØºÙŠØ± Ù…Ø³Ø¬Ù„'}</td>
                        <td><b>${data.Ø§Ù„Ø§Ø³Ù…}</b></td>
                        <td>${data.Ø§Ù„Ù‡Ø§ØªÙ}</td>
                        <td>${data.Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©} - ${data.Ø§Ù„Ø¹Ù†ÙˆØ§Ù†}</td>
                        <td>${data.Ø§Ù„Ù…Ù‚Ø§Ø³}</td>
                        <td class="highlight">${data.Ø§Ù„ÙƒÙ…ÙŠØ© || '1 Ø¹Ù„Ø¨Ø©'}</td>
                        <td class="highlight">${data.Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ || '200 Ø¬Ù†ÙŠÙ‡'}</td>
                        <td>
                            <a href="tel:${data.Ø§Ù„Ù‡Ø§ØªÙ}" class="btn btn-call">Ø§ØªØµØ§Ù„</a>
                            <a href="https://wa.me/2${data.Ø§Ù„Ù‡Ø§ØªÙ}" target="_blank" class="btn btn-wa">ÙˆØ§ØªØ³Ø§Ø¨</a>
                            <button onclick="deleteOrder('${id}')" class="btn btn-del">Ø­Ø°Ù</button>
                        </td>
                    </tr>
                `;
                tableBody.insertAdjacentHTML('afterbegin', row); // Ø§Ù„Ø£Ø­Ø¯Ø« ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰
            });
            document.getElementById('orderCount').innerText = total;
        });

        // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø­Ø°Ù
        function deleteOrder(id) {
            if(confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ')) {
                db.child(id).remove();
            }
        }
    </script>
</body>
</html>
