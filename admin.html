<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¯ÙŠØ± HOTEP</title>
    <link rel="apple-touch-icon" href="https://l.top4top.io/p_36510goa90.jpg">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; margin: 0; padding: 15px; }
        .header { text-align: center; color: #D4AF37; border-bottom: 2px solid #D4AF37; padding-bottom: 10px; margin-bottom: 20px; }
        .order-card { background: #111; border: 1px solid #D4AF37; border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(212,175,55,0.1); }
        .btn-call { background: #28a745; color: white; text-decoration: none; padding: 12px; border-radius: 8px; display: inline-block; width: 45%; text-align: center; font-weight: bold; }
        .btn-delete { background: #dc3545; color: white; padding: 12px; border-radius: 8px; display: inline-block; width: 45%; border: none; float: left; font-weight: bold; cursor: pointer; }
        .info { margin: 10px 0; font-size: 16px; border-bottom: 1px solid #222; padding-bottom: 5px; }
        .info b { color: #D4AF37; }
        .count { background: #D4AF37; color: #000; padding: 5px 15px; border-radius: 20px; font-weight: bold; display: inline-block; margin-bottom: 15px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>HOTEP ADMIN</h1>
        <div id="orderCount" class="count">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>
    
    <div id="ordersContainer">Ø§Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹...</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
    const firebaseConfig = { databaseURL: "https://hotep-f423e-default-rtdb.europe-west1.firebasedatabase.app/" };
    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ¹Ø±Ø¶Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø£ÙŠ Ø¬Ø¯ÙŠØ¯
    db.ref('orders').on('value', (snapshot) => {
        const container = document.getElementById('ordersContainer');
        const countBox = document.getElementById('orderCount');
        container.innerHTML = '';
        let total = 0;

        snapshot.forEach((child) => {
            total++;
            const val = child.val();
            const id = child.key;
            container.innerHTML += `
                <div class="order-card">
                    <div class="info">ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: <b>${val.Ø§Ù„Ø§Ø³Ù… || val.Name}</b></div>
                    <div class="info">ğŸ“ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: <b>${val.Ø§Ù„Ù‡Ø§ØªÙ || val.Phone}</b></div>
                    <div class="info">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: <b>${val.Ø§Ù„Ø¹Ù†ÙˆØ§Ù† || val.Address}</b></div>
                    <div class="info">ğŸ“ Ø§Ù„Ù…Ù‚Ø§Ø³: <b>${val.Ø§Ù„Ù…Ù‚Ø§Ø³ || val.Size}</b> | ğŸ¨ Ø§Ù„Ù„ÙˆÙ†: <b>${val.Ø§Ù„Ù„ÙˆÙ† || val.Color}</b></div>
                    <div class="info">ğŸ•’ Ø§Ù„ØªØ§Ø±ÙŠØ®: <small>${val.Ø§Ù„ØªØ§Ø±ÙŠØ® || val.Time || ''}</small></div>
                    <a href="tel:${val.Ø§Ù„Ù‡Ø§ØªÙ || val.Phone}" class="btn-call">Ø§ØªØµØ§Ù„ Ø§Ù„Ø¢Ù†</a>
                    <button onclick="deleteOrder('${id}')" class="btn-delete">Ù…Ø³Ø­ Ø§Ù„Ø·Ù„Ø¨</button>
                </div>`;
        });
        
        countBox.innerText = "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: " + total;
        if (!snapshot.exists()) {
            container.innerHTML = "<h3 style='text-align:center; color:#555;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h3>";
            countBox.innerText = "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø±ØºØ©";
        }
    });

    // ÙˆØ¸ÙŠÙØ© Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ ØªÙ†ÙÙŠØ°Ù‡
    function deleteOrder(id) {
        if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŸ")) {
            db.ref('orders').child(id).remove();
        }
    }
</script>
</body>
</html>

