
<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة إدارة HOTEP</title>
    <style>
        :root { --gold: #D4AF37; --black: #000; --dark: #121212; }
        body { background: var(--black); color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        h2 { color: var(--gold); text-align: center; border-bottom: 2px solid var(--gold); padding-bottom: 10px; }
        
        .stats-container { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
        .stat-card { background: var(--dark); border: 1px solid var(--gold); padding: 15px; border-radius: 10px; text-align: center; min-width: 120px; }
        .stat-card span { display: block; font-size: 24px; font-weight: bold; color: var(--gold); }

        .table-container { overflow-x: auto; background: var(--dark); border-radius: 15px; border: 1px solid #333; }
        table { width: 100%; border-collapse: collapse; min-width: 800px; }
        th { background: var(--gold); color: #000; padding: 12px; font-size: 14px; }
        td { padding: 12px; border-bottom: 1px solid #333; text-align: center; font-size: 13px; }
        
        /* تمييز خانات العدد والحساب */
        .highlight-cell { color: var(--gold); font-weight: bold; background: rgba(212, 175, 55, 0.1); }
        
        .btn { padding: 6px 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; margin: 2px; font-size: 12px; }
        .btn-call { background: #28a745; color: white; }
        .btn-wa { background: #25d366; color: white; }
        .btn-del { background: #dc3545; color: white; }
    </style>
</head>
<body>

    <h2>إدارة طلبات HOTEP</h2>

    <div class="stats-container">
        <div class="stat-card">الطلبات<span id="totalOrders">0</span></div>
    </div>

    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>التاريخ</th>
                    <th>العميل</th>
                    <th>الهاتف</th>
                    <th>المحافظة</th>
                    <th>المقاس</th>
                    <th>العدد (علبة)</th>
                    <th>الحساب (ج.م)</th>
                    <th>الإجراءات</th>
                </tr>
            </thead>
            <tbody id="ordersTable">
                </tbody>
        </table>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        const firebaseConfig = { databaseURL: "https://hotep-f423e-default-rtdb.europe-west1.firebasedatabase.app/" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database().ref('orders');

        db.on('value', (snapshot) => {
            const ordersTable = document.getElementById('ordersTable');
            ordersTable.innerHTML = '';
            let count = 0;

            snapshot.forEach((childSnapshot) => {
                const data = childSnapshot.val();
                const id = childSnapshot.key;
                count++;

                const row = `
                    <tr>
                        <td>${data.التاريخ || '-'}</td>
                        <td>${data.الاسم}</td>
                        <td>${data.الهاتف}</td>
                        <td>${data.المحافظة}</td>
                        <td>${data.المقاس}</td>
                        <td class="highlight-cell">${data.الكمية || '1 علبة'}</td>
                        <td class="highlight-cell">${data.الاجمالي || '200 جنيهاً'}</td>
                        <td>
                            <a href="tel:${data.الهاتف}" class="btn btn-call">اتصال</a>
                            <a href="https://wa.me/2${data.الهاتف}" target="_blank" class="btn
